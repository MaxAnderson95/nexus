# -- Override the name of the chart
nameOverride: ""

# -- Override the full name of the release
fullnameOverride: ""

# -- Value for the app.kubernetes.io/managed-by label across all resources
managedBy: "Helm"

# -- Image pull secrets for all components
imagePullSecrets: []

# OpenTelemetry configuration
otel:
  # -- Enable OpenTelemetry integration
  enabled: true
  # -- OTLP endpoint URL
  endpoint: "http://otel-collector:4317"
  # -- OTLP protocol (grpc or http/protobuf)
  protocol: "grpc"
  # -- Use insecure connection
  insecure: true

# Cortex BFF service (includes frontend)
cortex:
  # -- Enable deployment of the Cortex component
  enabled: true

  # -- Number of Cortex pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy for Cortex deployments
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Cortex container image configuration
  image:
    # -- Container registry hostname (empty uses Docker Hub)
    registry: "ghcr.io"
    # -- Repository path within the registry
    repository: "maxanderson95/nexus/cortex"
    # -- Image pull policy
    pullPolicy: Always
    # -- Image tag (defaults to chart appVersion if empty)
    tag: ""

  # -- Additional annotations to add to Cortex pods
  podAnnotations: {}

  # -- Additional labels to add to Cortex pods
  podLabels: {}

  # -- Cortex service configuration
  service:
    # -- Service type
    type: ClusterIP
    # -- Service port
    port: 80
    # -- Container port that the application listens on
    containerPort: 8080

  # -- Cortex container resource configuration
  resources: {}
    # requests:
    #   cpu: "100m"
    #   memory: "128Mi"
    # limits:
    #   cpu: "500m"
    #   memory: "512Mi"

  # -- Liveness probe configuration for the Cortex container
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration for the Cortex container
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables for the Cortex container
  env: []

# Docking service
dockingService:
  # -- Enable deployment of the Docking Service component
  enabled: true

  # -- Number of Docking Service pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/docking-service"
    pullPolicy: Always
    tag: ""

  # -- Additional annotations to add to pods
  podAnnotations: {}

  # -- Additional labels to add to pods
  podLabels: {}

  # -- Service configuration
  service:
    type: ClusterIP
    port: 80
    containerPort: 8080

  # -- Container resource configuration
  resources: {}

  # -- Liveness probe configuration
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables
  env: []

# Crew service
crewService:
  # -- Enable deployment of the Crew Service component
  enabled: true

  # -- Number of Crew Service pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/crew-service"
    pullPolicy: Always
    tag: ""

  # -- Additional annotations to add to pods
  podAnnotations: {}

  # -- Additional labels to add to pods
  podLabels: {}

  # -- Service configuration
  service:
    type: ClusterIP
    port: 80
    containerPort: 8080

  # -- Container resource configuration
  resources: {}

  # -- Liveness probe configuration
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables
  env: []

# Life Support service
lifeSupportService:
  # -- Enable deployment of the Life Support Service component
  enabled: true

  # -- Number of Life Support Service pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/life-support-service"
    pullPolicy: Always
    tag: ""

  # -- Additional annotations to add to pods
  podAnnotations: {}

  # -- Additional labels to add to pods
  podLabels: {}

  # -- Service configuration
  service:
    type: ClusterIP
    port: 80
    containerPort: 8080

  # -- Container resource configuration
  resources: {}

  # -- Liveness probe configuration
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables
  env: []

# Power service
powerService:
  # -- Enable deployment of the Power Service component
  enabled: true

  # -- Number of Power Service pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/power-service"
    pullPolicy: Always
    tag: ""

  # -- Additional annotations to add to pods
  podAnnotations: {}

  # -- Additional labels to add to pods
  podLabels: {}

  # -- Service configuration
  service:
    type: ClusterIP
    port: 80
    containerPort: 8080

  # -- Container resource configuration
  resources: {}

  # -- Liveness probe configuration
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables
  env: []

# Inventory service
inventoryService:
  # -- Enable deployment of the Inventory Service component
  enabled: true

  # -- Number of Inventory Service pod replicas
  replicaCount: 1

  # -- Number of old ReplicaSets to retain for rollback
  revisionHistoryLimit: 3

  # -- Rolling update strategy
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0%
      maxSurge: 100%

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/inventory-service"
    pullPolicy: Always
    tag: ""

  # -- Additional annotations to add to pods
  podAnnotations: {}

  # -- Additional labels to add to pods
  podLabels: {}

  # -- Service configuration
  service:
    type: ClusterIP
    port: 80
    containerPort: 8080

  # -- Container resource configuration
  resources: {}

  # -- Liveness probe configuration
  livenessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

  # -- Readiness probe configuration
  readinessProbe:
    httpGet:
      path: /health
      port: http
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    successThreshold: 1
    failureThreshold: 3

  # -- Additional environment variables
  env: []

# PostgreSQL database
postgres:
  # -- Enable deployment of PostgreSQL
  enabled: true

  # -- Container image configuration
  image:
    registry: ""
    repository: "postgres"
    pullPolicy: IfNotPresent
    tag: "15-alpine"

  # -- Authentication configuration
  auth:
    database: "nexus"
    username: "nexus"
    password: "nexus_password"

  # -- Service configuration
  service:
    type: ClusterIP
    port: 5432

  # -- Persistence configuration
  persistence:
    enabled: true
    size: "10Gi"
    storageClass: ""

  # -- Container resource configuration
  resources: {}

# Redis cache
redis:
  # -- Enable deployment of Redis
  enabled: true

  # -- Container image configuration
  image:
    registry: ""
    repository: "redis"
    pullPolicy: IfNotPresent
    tag: "7-alpine"

  # -- Service configuration
  service:
    type: ClusterIP
    port: 6379

  # -- Container resource configuration
  resources: {}

# Load generator (optional)
loadGenerator:
  # -- Enable deployment of the Load Generator
  enabled: false

  # -- Container image configuration
  image:
    registry: "ghcr.io"
    repository: "maxanderson95/nexus/load-generator"
    pullPolicy: Always
    tag: ""

  # -- Number of simulated users
  users: 10

  # -- User spawn rate per second
  spawnRate: 1

  # -- Container resource configuration
  resources: {}
